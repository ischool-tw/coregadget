<!DOCTYPE html>
<html ng-app="allsearch">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="http://web.ischool.com.tw/devlibrary/gadget.js"></script>
    <script>
    init({
        application: "test.b.nehs.hc.edu.tw",
        paramValues: {},
        oAuth: {
            clientID: 'b88fbfbbaa848c5b5b01ce51853eac7f',
            clientSecret: '0911245ae08323086790244cd319c1c3bbde1096520154f0cbcb71f0ff76e311'
        }
    });
    </script>
    <link href="css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="css/base.css" rel="stylesheet" />
    <script src="js/jquery.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/allsearch.js"></script>
</head>

<body ng-controller="MainCtrl">
    <div id="gadget" class="my-page">
        <!-- 家長才有的選單 -->
        <!-- <div id="children" class="my-child" ng-mouseover="myChildnameHeight='35px'" ng-mouseleave="myChildnameHeight='0px'" ng-if="system_position=='parent'">
            <div class="my-childname" ng-style="{height:myChildnameHeight}">
                <ul>
                    <li ng-repeat="item in studentList" ng-click="selectStudent(item)">{{item.StudentName}}</li>
                </ul>
            </div>
            <div class="my-childbar">
                <i class="fa fa-user"></i>
                <span>{{currentStudent.StudentName}}</span>
            </div>
        </div> -->

        <div class="row">
            <div class="col-md-12">
                <h1>Information</h1>
                <div class="row">
                    <div class="col-md-3">
                        <!-- 班導師 -->
                        <div class="btn-group btn-block" ng-if="system_position === 'teacher'">
                            <button type="button" class="btn btn-default dropdown-toggle btn-block" data-toggle="dropdown">
                                {{currentClass.ClassName}}
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu" style="width:100%;">
                                <li ng-repeat="item in classlist" ng-class="{'active':item.selected}">
                                    <a href="javascript:;" ng-click="selectClass(item)">{{item.ClassName}}</a>
                                </li>
                            </ul>
                        </div>

                        <!-- 輔導老師 -->
                        <!-- <div class="btn-group pull-left" style="width:50%;">
                            <button type="button" class="btn btn-default dropdown-toggle btn-block" data-toggle="dropdown">
                                {{currentGradeYear.Title}}
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li ng-repeat="item in gradeYearList">
                                    <a href="javascript:;" ng-click="selectGradeYear(item)">{{item.Title}}</a>
                                </li>
                            </ul>
                        </div>
                        <div class="btn-group pull-left" style="width:50%; margin-bottom:10px;">
                            <button type="button" class="btn btn-default dropdown-toggle btn-block" data-toggle="dropdown">
                                {{currentClass.ClassName}}
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu" role="menu">
                                <li ng-repeat="item in currentClassList">
                                    <a href="javascript:;" ng-click="selectClass(item)">{{item.ClassName}}</a>
                                </li>
                            </ul>
                        </div> -->

                        <div class="input-group clearfix hidden" style="margin:10px 0;">
                            <span class="input-group-addon"><i class="fa fa-search"></i>
                            </span>
                            <input type="text" class="form-control" placeholder="Search">
                        </div>
                        <div class="list-group" style="margin:10px 0;" ng-if="system_position === 'teacher' || system_position === 'parent'">
                            <a href="javascript:;" class="list-group-item" ng-repeat="item in studentList" ng-class="{'active':item.selected}" ng-click="selectStudent(item)">
                                <i class="fa fa-angle-right pull-right"></i>
                                <div>
                                    <div>{{item.StudentChineseName || item.StudentName}}</div>
                                    <div>{{item.StudentNickname || item.StudentEnglishName}}</div>
                                </div>
                            </a>
                        </div>
                    </div>

                    <!-- 非老師時 class="col-md-12" -->
                    <div class="col-md-9">
                        <!-- Teacher Nav tabs -->
                        <ul class="nav nav-pills nav-justified" style="margin-bottom:10px;" ng-if="system_position==='teacher'">
                            <!-- 輔導老師與老師使用 -->
                            <li class="active">
                                <a href="#tab6" data-toggle="tab">Student Info.</a>
                            </li>

                            <!-- 輔導老師與特定身份使用者使用 -->
                            <li ng-if="IsCareersCounselor">
                                <a href="#tab1" data-toggle="tab">Counselor Page</a>
                            </li>

                            <li>
                                <a href="#tab2" data-toggle="tab">Attendance Management</a>
                            </li>
                            <li class="dropdown">
                                <a href="" id="myTabDrop1" class="dropdown-toggle" data-toggle="dropdown">
                                    Grade Info.
                                    <b class="caret"></b>
                                </a>
                                <ul class="dropdown-menu" role="menu" aria-labelledby="myTabDrop1">
                                    <li>
                                        <a href="#tab3" data-toggle="tab" ng-click="GetGradeScore(3)">Semester</a>
                                    </li>
                                    <li>
                                        <a href="#tab4" data-toggle="tab">Quarter</a>
                                    </li>
                                    <li>
                                        <a href="#tab5" data-toggle="tab">Conduct</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>

                        <!-- Parent Nav tabs -->
                        <ul class="nav nav-pills nav-justified" style="margin-bottom:10px;" ng-if="system_position !== 'teacher'">
                            <li class="active">
                                <a href="#tab2" data-toggle="tab">Attendance Management</a>
                            </li>
                            <li>
                                <a href="#tab3" data-toggle="tab" ng-click="GetGradeScore(3)">Semester</a>
                            </li>
                            <li>
                                <a href="#tab4" data-toggle="tab">Quarter</a>
                            </li>
                            <li>
                                <a href="#tab5" data-toggle="tab">Conduct</a>
                            </li>
                        </ul>

                        <!-- Tab panes -->
                        <div class="tab-content">

                            <!-- 學生基本資料 -->
                            <div ng-class="activeStudent()" id="tab6">
                                <table class="table table-bordered">
                                    <tbody>
                                        <tr>
                                            <th>Photo</th>
                                            <td colspan="3">
                                                <img ng-src="{{currentStudent.FreshmanPhoto || 'img/nophoto.png'}}" style="height:160px; padding:6px; border:1px solid #eee;">
                                                <img ng-src="{{currentStudent.GraduatePhoto || 'img/nophoto.png'}}" style="height:160px; padding:6px; border:1px solid #eee;">
                                            </td>
                                        </tr>
                                        <tr>
                                            <th class="col-md-3">Chinese Name</th>
                                            <td class="col-md-3">{{currentStudent.StudentChineseName}}</td>
                                            <th class="col-md-3">Nickname</th>
                                            <td class="col-md-3">{{currentStudent.StudentNickname}}</td>
                                        </tr>
                                        <tr>
                                            <th>English Name</th>
                                            <td colspan="3">{{currentStudent.StudentEnglishName}}</td>
                                        </tr>
                                        <tr>
                                            <th>Date of Birth</th>
                                            <td>{{currentStudent.Birthdate}}</td>
                                            <th>Gender</th>
                                            <td>{{currentStudent.Gender == '1' ? 'Male' : 'Female'}}</td>
                                        </tr>
                                        <tr>
                                            <th>Nationality</th>
                                            <td>{{currentStudent.Nationality}}</td>
                                            <th>Student No.</th>
                                            <td>{{currentStudent.StudentNumber}}</td>
                                        </tr>
                                        <tr>
                                            <th>Class</th>
                                            <td>{{currentClass.ClassName}}</td>
                                            <th>Seat No.</th>
                                            <td>{{currentStudent.SeatNo}}</td>
                                        </tr>
                                        <tr>
                                            <th>Father Name</th>
                                            <td colspan="3">{{currentStudent.FatherName}}</td>
                                        </tr>
                                        <tr>
                                            <th>Mother Name</th>
                                            <td colspan="3">{{currentStudent.MotherName}}</td>
                                        </tr>
                                        <tr>
                                            <th>Phone(Contact)</th>
                                            <td>{{currentStudent.ContactPhone}}</td>
                                            <th>Cellphone</th>
                                            <td>{{currentStudent.SmsPhone}}</td>
                                        </tr>
                                        <tr>
                                            <th>Address(Contact)</th>
                                            <td colspan="3">{{currentStudent.FullAdderss}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- 晤談記錄 -->
                            <div class="tab-pane" id="tab1">
                                <form class="form-inline" role="form" style="margin:10px 0;">
                                    Search：
                                    <div class="form-group">
                                        <label class="sr-only" for="exampleInputEmail2">Email address</label>
                                        <input type="date" class="form-control" id="exampleInputEmail2" placeholder="2012/01/01" ng-model="startDate">
                                    </div>
                                    ~
                                    <div class="form-group">
                                        <label class="sr-only" for="exampleInputPassword2">Password</label>
                                        <input type="date" class="form-control" id="exampleInputPassword2" placeholder="2012/01/01" ng-model="endDate">
                                    </div>
                                    <a class="btn btn-default" type="button" ng-click="QueryByDate()">
                                        <i class="fa fa-search"></i> Go!
                                    </a>
                                    <a class="btn btn-info pull-right" data-toggle="modal" href="#talk" ng-click="CreateNewIR()">
                                        <i class="fa fa-pencil"></i> Create Interview Record
                                    </a>
                                </form>
                                <table class="table table-bordered table-hover my-interview">
                                    <thead>
                                        <tr>
                                            <th class="col-md-1"></th>
                                            <th class="col-md-2">Serial No.</th>
                                            <th class="col-md-2">Date</th>
                                            <th class="col-md-1">Time</th>
                                            <th class="col-md-4">Issue</th>
                                            <th class="col-md-2"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in IR">
                                            <td class="text-center">
                                                <i class="fa fa-lock" ng-if="item.IsPublic === false"></i>
                                                <i class="fa fa-unlock" ng-if="item.IsPublic === true"></i>
                                            </td>
                                            <td>{{item.SerialNo}}</td>
                                            <td>{{item.InterviewDate}}</td>
                                            <td>{{item.InterviewTime}}</td>
                                            <td>
                                                <a href="#viewtalk" data-toggle="modal" class="my-view" ng-click="SelectIR(item)">{{item.Issue}}</a>
                                            </td>
                                            <td class="text-center">
                                                <a href="#edittalk" data-toggle="modal" class="btn btn-primary" ng-click="EditIR(item)">
                                                    <i class="fa fa-edit"></i>
                                                </a>
                                                <a href="#" class="btn btn-danger" ng-click="DeleteInterviewRecord(item,$index)">
                                                    <i class="fa fa-trash-o"></i>
                                                </a>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- 缺曠獎懲 -->
                            <div ng-class="activeAttend()" id="tab2">
                                <div class="btn-group my-dropdown" style="margin-bottom:10px;">
                                    <a href="" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                        {{currentSYSM.Name}}
                                        <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="item in SYSM">
                                            <a ng-click="selectSYSM(item)">{{item.Name}}</a>
                                        </li>
                                        <!-- <li ng-repeat="item in attendance" ng-class="{'active':item.selected}">
                                            <a href="javascript:;" ng-click="">102 2nd Semester</a>
                                        </li> -->
                                    </ul>
                                </div>

                                <div class="panel panel-default">
                                    <div class="panel-heading"><i class="fa fa-briefcase"></i> Attendance <p class="btn-info btn-xs pull-right" data-toggle="modal">Total：{{ADTotal}}</p>
                                    </div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-sm-6 col-md-4" ng-repeat="ab in AbsenceList">
                                                <div class="panel panel-warning" data-toggle="modal" href="#viewAttendance" style="cursor: pointer;" ng-click="viewAttendance(ab.Name)">
                                                    <div class="panel-heading">
                                                        <h3 class="panel-title text-center">{{ab.Name}}</h3>
                                                    </div>
                                                    <div class="panel-body text-center">
                                                        {{abCount[ab.Name] || 0}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-default">
                                    <div class="panel-heading"><i class="fa fa-trophy"></i> Management
                                        <!-- <a class="btn btn-info btn-xs pull-right" data-toggle="modal" href="#viewManagementTotal">Total：17</a> -->
                                    </div>
                                    <div class="panel-body">
                                        <div class="row">
                                            <div class="col-sm-6 col-md-4">
                                                <div class="panel panel-success" data-toggle="modal" href="#viewManagement" style="cursor: pointer;" ng-click="viewManagement('Major Merit','Merit','A')">
                                                    <div class="panel-heading">
                                                        <h3 class="panel-title text-center">Major Merit</h3>
                                                    </div>
                                                    <div class="panel-body text-center">
                                                        {{Merit.A}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-6 col-md-4">
                                                <div class="panel panel-success" data-toggle="modal" href="#viewManagement" style="cursor: pointer;" ng-click="viewManagement('Minor Merit','Merit','B')">
                                                    <div class="panel-heading">
                                                        <h3 class="panel-title text-center">Minor Merit</h3>
                                                    </div>
                                                    <div class="panel-body text-center">
                                                        {{Merit.B}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-6 col-md-4">
                                                <div class="panel panel-success" data-toggle="modal" href="#viewManagement" style="cursor: pointer;" ng-click="viewManagement('Commendation','Merit','C')">
                                                    <div class="panel-heading">
                                                        <h3 class="panel-title text-center">Commendation</h3>
                                                    </div>
                                                    <div class="panel-body text-center">
                                                        {{Merit.C}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-6 col-md-4">
                                                <div class="panel panel-danger" data-toggle="modal" href="#viewManagement" style="cursor: pointer;" ng-click="viewManagement('Major Demerit','Demerit','A')">
                                                    <div class="panel-heading">
                                                        <h3 class="panel-title text-center">Major Demerit</h3>
                                                    </div>
                                                    <div class="panel-body text-center">
                                                        {{Demerit.A}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-6 col-md-4">
                                                <div class="panel panel-danger" data-toggle="modal" href="#viewManagement" style="cursor: pointer;" ng-click="viewManagement('Minor Demerit','Demerit','B')">
                                                    <div class="panel-heading">
                                                        <h3 class="panel-title text-center">Minor Demerit</h3>
                                                    </div>
                                                    <div class="panel-body text-center">
                                                        {{Demerit.B}}
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-sm-6 col-md-4">
                                                <div class="panel panel-danger" data-toggle="modal" href="#viewManagement" style="cursor: pointer;" ng-click="viewManagement('Admonition','Demerit','C')">
                                                    <div class="panel-heading">
                                                        <h3 class="panel-title text-center">Admonition</h3>
                                                    </div>
                                                    <div class="panel-body text-center">
                                                        {{Demerit.C}}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Semester -->
                            <div class="tab-pane" id="tab3">
                                <!-- <div class="btn-group">
                                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                        {{currentGrade}}
                                        <span class="caret"></span>
                                    </button> -->
                                    <!-- <div class="col-md-9"> -->
                                    <ul class="nav nav-pills nav-justified" style="margin-bottom:10px;">
                                        <li ng-repeat="grade in [3,4,5,6,7,8,9,10,11,12]"><a href="#" ng-click="GetGradeScore(grade)">{{'Gr.' + grade}}</a>
                                        </li>
                                    </ul>
                                    <!-- </div> -->
                                    <!-- <ul class="dropdown-menu" role="menu">
                                        <li ng-repeat="grade in [3,4,5,6,7,8,9,10,11,12]"><a href="#" ng-click="GetGradeScore(grade)">{{'Gr.' + grade}}</a>
                                        </li> -->
                                        <!-- <li><a href="#">Gr.4</a>
                                        </li>
                                        <li><a href="#">Gr.5</a>
                                        </li>
                                        <li><a href="#">Gr.6</a>
                                        </li>
                                        <li><a href="#">Gr.7</a>
                                        </li>
                                        <li><a href="#">Gr.8</a>
                                        </li>
                                        <li><a href="#">Gr.9</a>
                                        </li>
                                        <li><a href="#">Gr.10</a>
                                        </li>
                                        <li><a href="#">Gr.11</a>
                                        </li>
                                        <li><a href="#">Gr.12</a>
                                        </li> -->
                                    <!-- </ul> -->
                                <!-- </div> -->
                                <table class="table table-bordered my-grade" style="margin-top:10px;">
                                    <thead>
                                        <tr>
                                            <th rowspan="3" class="col-md-4 text-center">Domain
                                                <br>( Hours / Week )</th>
                                            <th rowspan="3" class="col-md-4 text-center">Subject</th>
                                            <th colspan="2" class="col-md-4 text-center">{{GS.rang}}</th>
                                        </tr>
                                        <tr>
                                            <th class="text-center" style="width:100px">1st</th>
                                            <th class="text-center" style="width:100px">2nd</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in GS.domains">
                                            <td rowspan="1">{{item.domain + ' (' + item.period + ')'}}</td>
                                            <td rowspan="1">{{item.subject}}</td>
                                            <td colspan="1" class="text-center">{{TransferScore(item.score[0])}}</td>
                                            <td colspan="1" class="text-center">{{TransferScore(item.score[1])}}</td>
                                        </tr>
                                        <!-- <tr>
                                            <td rowspan="1">Englist (5)</td>
                                            <td rowspan="1">Englist Subject</td>
                                            <td colspan="1" class="text-center">60</td>
                                            <td colspan="1" class="text-center">70</td>
                                        </tr>
                                        <tr>
                                            <td rowspan="1">Math (5)</td>
                                            <td rowspan="1">Math Subject</td>
                                            <td colspan="1" class="text-center">50</td>
                                            <td colspan="1" class="text-center">40</td>
                                        </tr> -->
                                    </tbody>
                                </table>

                                <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th class="col-md-3"></th>
                                            <th class="col-md-2 text-center">{{currentGrade}}</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th class="text-center">GPA</th>
                                            <td class="text-center">{{GS.gpa}}</td>
                                        </tr>
                                        <tr>
                                            <th class="text-center">Highest GPA in Grade</th>
                                            <td class="text-center">{{GS.maxgpa}}</td>
                                        </tr>
                                        <tr>
                                            <th class="text-center">Grade average GPA</th>
                                            <td class="text-center">{{GS.avggpa}}</td>
                                        </tr>
                                    </tbody>
                                </table>

                                <!-- <table class="table table-bordered my-grade" style="margin-top:10px;">
                                    <thead>
                                        <tr>
                                            <th rowspan="3" class="col-md-3">Subject
                                                <br>( Hours / Week )</th>
                                            <th colspan="2" class="col-md-2">Gr. 9</th>
                                            <th colspan="2" class="col-md-2">Gr. 10</th>
                                            <th colspan="2" class="col-md-2">Gr. 11</th>
                                            <th colspan="2" class="col-md-2">Gr. 12</th>
                                        </tr>
                                        <tr>
                                            <th colspan="2">2010 ~ 2011</th>
                                            <th colspan="2">2011 ~ 2012</th>
                                            <th colspan="2">2012 ~ 2013</th>
                                            <th colspan="2">2013 ~ 2014</th>
                                        </tr>
                                        <tr>
                                            <th>1st</th>
                                            <th>2nd</th>
                                            <th>1st</th>
                                            <th>2nd</th>
                                            <th>1st</th>
                                            <th>2nd</th>
                                            <th>1st</th>
                                            <th>2nd</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td rowspan="2">Chinese (5)</td>
                                            <td colspan="2">Level 9(H)</td>
                                            <td colspan="2">Level 10(H)</td>
                                            <td colspan="2">Level 11(H)</td>
                                            <td colspan="2">Level 12(H)</td>
                                        </tr>
                                        <tr class="active">
                                            <td>99</td>
                                            <td>98</td>
                                            <td>96</td>
                                            <td>97</td>
                                            <td>99</td>
                                            <td>98</td>
                                            <td>N/A</td>
                                            <td>N/A</td>
                                        </tr>
                                        <tr>
                                            <td rowspan="2">English (6)</td>
                                            <td colspan="2">Literature Appreciation(H)</td>
                                            <td colspan="2">American Literature(H)</td>
                                            <td colspan="2">AP English Language and Composition</td>
                                            <td colspan="2">AP English Literature and Composition</td>
                                        </tr>
                                        <tr class="active">
                                            <td>99</td>
                                            <td>98</td>
                                            <td>96</td>
                                            <td>97</td>
                                            <td>99</td>
                                            <td>98</td>
                                            <td>N/A</td>
                                            <td>N/A</td>
                                        </tr>
                                        <tr>
                                            <td rowspan="2">Chinese (5)</td>
                                            <td colspan="2">Level 9(H)</td>
                                            <td colspan="2">Level 10(H)</td>
                                            <td colspan="2">Level 11(H)</td>
                                            <td colspan="2">Level 12(H)</td>
                                        </tr>
                                        <tr class="active">
                                            <td>99</td>
                                            <td>98</td>
                                            <td>96</td>
                                            <td>97</td>
                                            <td>99</td>
                                            <td class="danger">55</td>
                                            <td>N/A</td>
                                            <td>N/A</td>
                                        </tr>
                                        <tr>
                                            <td rowspan="2">English (6)</td>
                                            <td colspan="2">Literature Appreciation(H)</td>
                                            <td colspan="2">American Literature(H)</td>
                                            <td colspan="2">AP English Language and Composition</td>
                                            <td colspan="2">AP English Literature and Composition</td>
                                        </tr>
                                        <tr class="active">
                                            <td>99</td>
                                            <td>98</td>
                                            <td>96</td>
                                            <td>97</td>
                                            <td>99</td>
                                            <td>98</td>
                                            <td>N/A</td>
                                            <td>N/A</td>
                                        </tr>
                                    </tbody>
                                </table> -->
                                <!-- <table class="table table-bordered">
                                    <thead>
                                        <tr>
                                            <th class="col-md-3"></th>
                                            <th class="col-md-2">Gr. 9</th>
                                            <th class="col-md-2">Gr. 9 - Gr. 10</th>
                                            <th class="col-md-2">Gr. 9 - Gr. 11</th>
                                            <th class="col-md-2">Gr. 9 - Gr. 12</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <th class="text-center">GPA</th>
                                            <td class="text-center">4.35</td>
                                            <td class="text-center">3.41</td>
                                            <td class="text-center">4.35</td>
                                            <td class="text-center">3.41</td>
                                        </tr>
                                        <tr>
                                            <th>Highest GPA in Grade</th>
                                            <td class="text-center">4.35</td>
                                            <td class="text-center">3.41</td>
                                            <td class="text-center">4.35</td>
                                            <td class="text-center">3.41</td>
                                        </tr>
                                        <tr>
                                            <th>Grade average GPA</th>
                                            <td class="text-center">4.35</td>
                                            <td class="text-center">3.41</td>
                                            <td class="text-center">4.35</td>
                                            <td class="text-center">3.41</td>
                                        </tr>
                                    </tbody>
                                </table> -->
                            </div>

                            <!-- Exam -->
                            <div class="tab-pane" id="tab4">
                                <div class="btn-group" ng-if="exam">
                                    <a href="" class="btn btn-default dropdown-toggle" data-toggle="dropdown"> 
                                        {{currentExam.SchoolYear + ' ' + (currentExam.Semester == '1' ? '1st' : '2nd') + ' Semester'}}
                                        <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown-menu" role="menu">
                                        <li ng-repeat="item in exam" ng-class="{'active':item.selected}">
                                            <a href="javascript:;" ng-click="selectExam(item)">{{item.SchoolYear + ' ' + (item.Semester == '1' ? '1st' : '2nd') + ' Semester'}}</a>
                                        </li>
                                    </ul>
                                </div>
                                <table class="table table-bordered table-striped text-center" style="margin-top:10px;" ng-if="exam">
                                    <thead>
                                        <!-- <tr>
                                            <th rowspan="2" class="col-md-6">Subject</th>
                                            <th colspan="3" class="col-md-3 text-center">Midterm</th>
                                            <th colspan="3" class="col-md-3 text-center">Final</th>
                                        </tr> -->
                                        <tr>
                                            <th class="col-md-6">Subject</th>
                                            <th class="col-md-3 text-center">Midterm</th>
                                            <th class="col-md-3 text-center">Final</th>
                                        </tr>
                                        <tr class="hidden">
                                            <th class="text-center" colspan="2">Score</th>
                                            <th class="text-center">GPA</th>
                                            <th class="text-center" colspan="2">Score</th>
                                            <th class="text-center">GPA</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="item in currentExam.Exam">
                                            <td class="text-left">{{item.SubjectChineseName + ' ' + item.SubjectEnglishName}}</td>
                                            <td ng-class="{'text-danger':item.Midterm < 60}">{{TransferScore(item.Midterm)}}</td>
                                            <td class="hidden"></td>
                                            <td class="hidden"></td>
                                            <td ng-class="{'text-danger':item.Final < 60}">{{TransferScore(item.Final)}}</td>
                                            <td class="hidden"></td>
                                            <td class="hidden"></td>
                                        </tr>
                                    </tbody>
                                    <thead class="hidden">
                                        <tr>
                                            <th>Average</th>
                                            <th colspan="3"></th>
                                            <th colspan="3"></th>
                                        </tr>
                                        <tr>
                                            <th>GPA</th>
                                            <th colspan="3"></th>
                                            <th colspan="3"></th>
                                        </tr>
                                    </thead>
                                </table>

                                <div class="btn-group hidden">
                                    <a href="" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                        Midterm
                                        <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown-menu" role="menu">
                                        <li><a href="">Midterm</a>
                                        </li>
                                        <li><a href="">Final</a>
                                        </li>
                                    </ul>
                                </div>

                                <table class="table table-bordered table-striped text-center hidden" style="margin-top:10px;">
                                    <thead>
                                        <tr>
                                            <th class="col-md-3">Subject</th>
                                            <th>100-90</th>
                                            <th>89-80</th>
                                            <th>79-70</th>
                                            <th>69-60</th>
                                            <th>59-50</th>
                                            <th>49-40</th>
                                            <th>39-30</th>
                                            <th>29-20</th>
                                            <th>19-10</th>
                                            <th>9-0</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Biology</td>
                                            <td>3</td>
                                            <td class="info">8</td>
                                            <td>5</td>
                                            <td>8</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                            <td>0</td>
                                        </tr>
                                        <tr>
                                            <td>World Geography World Geography</td>
                                            <td>0</td>
                                            <td>5</td>
                                            <td>4</td>
                                            <td class="info">5</td>
                                            <td>4</td>
                                            <td>0</td>
                                            <td>2</td>
                                            <td>0</td>
                                            <td>1</td>
                                            <td>0</td>
                                        </tr>
                                        <tr>
                                            <td>PE</td>
                                            <td>1</td>
                                            <td class="info">3</td>
                                            <td>7</td>
                                            <td>0</td>
                                            <td>3</td>
                                            <td>4</td>
                                            <td>0</td>
                                            <td>1</td>
                                            <td>0</td>
                                            <td>0</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <!-- Conduct -->
                            <div class="tab-pane" id="tab5">
                                <div class="btn-group my-dropdown" ng-if="conductList">
                                    <a href="" class="btn btn-default dropdown-toggle" data-toggle="dropdown" ng-if="currentConduct.SchoolYear !=='' && currentConduct.Semester !== ''">
                                        {{currentConduct.SchoolYear + ' ' + (currentConduct.Semester == '1' ? '1st' : '2nd') + ' Semester'}}
                                        <span class="caret"></span>
                                    </a>
                                    <ul class="dropdown-menu">
                                        <li ng-repeat="item in conductList" ng-class="{'active':item.selected}">
                                            <a href="javascript:;" ng-click="selectConduct(item)">{{item.SchoolYear + ' ' + (item.Semester == '1' ? '1st' : '2nd') + ' Semester'}}</a>
                                        </li>
                                    </ul>
                                </div>

                                <div class="tab-pane" style="font-style:italic;font-weight:bold">
                                    <br/>M=Meets expectations S=Meets needs with Support N=Not yet within expectations N/A=Not Available
                                </div>

                                <div class="panel panel-info" style="margin-top:10px;" ng-repeat="conduct in currentConduct.Conduct">
                                    <div class="panel-heading" ng-if="conduct.SubjectChineseName != ''">{{conduct.SubjectChineseName + ' ' + conduct.SubjectEnglishName}}</div>
                                    <table class="table table-bordered table-striped table-hover" ng-repeat="item in conduct.ShowConduct.Conducts.Conduct">
                                        <thead>
                                            <tr>
                                                <th class="text-center col-md-2">Midterm</th>
                                                <th class="text-center col-md-2">Final</th>
                                                <th>{{item.Group}}</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="temp in item.Item">
                                                <td class="text-center">{{temp.MidtermGrade}}</td>
                                                <td class="text-center">{{temp.FinalGrade}}</td>
                                                <td>{{$index+1}}. {{temp.Title}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <table class="table table-bordered">
                                        <thead>
                                            <tr>
                                                <th class="col-md-6">Midterm Comment</th>
                                                <th class="col-md-6">Final Comment</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>{{conduct.MidtermComment}}</td>
                                                <td>{{conduct.FinalComment}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Modal -->
    <div class="modal fade" id="talk" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel"><i class="fa fa-pencil"></i> Create Interview Record</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" role="form">
                        <div class="form-group">
                            <label for="inputNo" class="col-sm-2 control-label">Serial No.</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputNo" placeholder="Serial No." ng-model="newIR.SerialNo">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputDate" class="col-sm-2 control-label">Date</label>
                            <div class="col-sm-10">
                                <input type="date" class="form-control" id="inputDate" placeholder="Ex:2014/01/01" ng-model="newIR.formatDate">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputTime" class="col-sm-2 control-label">Time</label>
                            <div class="col-sm-10">

                                <input type="text" class="form-control" pattern="([01]?[0-9]{1}|2[0-3]{1}):[0-5]{1}[0-9]{1}" id="inputTime" placeholder="Ex:13:59" ng-model="newIR.InterviewTime" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputVenue" class="col-sm-2 control-label">Venue</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputVenue" placeholder="Venue" ng-model="newIR.Venue">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputMeans" class="col-sm-2 control-label">Means</label>
                            <div class="col-sm-10">
                                <select class="form-control" ng-model="newIR.Means">
                                    <option>Face to Face</option>
                                    <option>Email</option>
                                    <option>Phone</option>
                                    <option>Others</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputTime" class="col-sm-2 control-label">Attendees</label>
                            <div class="col-sm-10">
                                <label class="checkbox-inline">
                                    <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="newIR.Student">Student
                                </label>
                                <label class="checkbox-inline">
                                    <input type="checkbox" id="inlineCheckbox2" value="option2" ng-model="newIR.Parents">Parents
                                </label>
                                <label class="checkbox-inline">
                                    <input type="checkbox" id="inlineCheckbox3" value="option3" ng-model="newIR.HRT">Homeroom Teacher
                                </label>
                                <label class="checkbox-inline" style="margin-left:0;">
                                    <input type="checkbox" id="inlineCheckbox4" value="option4" ng-model="newIR.Other">
                                    <input type="text" class="form-control" id="inputother" placeholder="Others" ng-model="newIR.OtherName" style="width:440px">
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputIssue" class="col-sm-2 control-label">Issue</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputIssue" placeholder="Issue" ng-model="newIR.Issue">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputTitle" class="col-sm-2 control-label">Content</label>
                            <div class="col-sm-10">
                                <textarea class="form-control" rows="3" ng-model="newIR.Content"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputTaken" class="col-sm-2 control-label">Record Taken</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputTaken" placeholder="Record Taken" ng-model="newIR.RecordTaken">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <label class="checkbox-inline pull-left">
                        <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="newIR.IsPublic">Public
                    </label>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="InsertInterviewRecord()">Save</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div class="modal fade" id="edittalk" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel"><i class="fa fa-edit"></i> Edit Interview Record</h4>
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" role="form">
                        <div class="form-group">
                            <label for="inputNo" class="col-sm-2 control-label">Serial No.</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputNo" placeholder="Serios No." ng-model="editIR.SerialNo">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputDate" class="col-sm-2 control-label">Date</label>
                            <div class="col-sm-10">
                                <input type="date" class="form-control" id="inputDate" placeholder="yyyy-MM-dd" ng-model="editIR.formatDate">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputTime" class="col-sm-2 control-label">Time</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputTime" placeholder="Ex:13:59" ng-model="editIR.InterviewTime" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputVenue" class="col-sm-2 control-label">Venue</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputVenue" placeholder="Venue" ng-model="editIR.Venue">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputMeans" class="col-sm-2 control-label">Means</label>
                            <div class="col-sm-10">
                                <select class="form-control" ng-model="editIR.Means">
                                    <option>Face to Face</option>
                                    <option>Email</option>
                                    <option>Phone</option>
                                    <option>Others</option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputTime" class="col-sm-2 control-label">Attendees</label>
                            <div class="col-sm-10">
                                <label class="checkbox-inline">
                                    <input type="checkbox" id="inlineCheckbox1" ng-model="editIR.Student">Student
                                </label>
                                <label class="checkbox-inline">
                                    <input type="checkbox" id="inlineCheckbox2" ng-model="editIR.Parents">Parents
                                </label>
                                <label class="checkbox-inline">
                                    <input type="checkbox" id="inlineCheckbox3" ng-model="editIR.HRT">Homeroom Teacher
                                </label>
                                <label class="checkbox-inline" style="margin-left:0;">
                                    <input type="checkbox" id="inlineCheckbox4" ng-model="editIR.Other">
                                    <input type="text" class="form-control" id="inputother" placeholder="Others" ng-model="editIR.OtherName" style="width:440px;">
                                </label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputIssue" class="col-sm-2 control-label">Issue</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputIssue" placeholder="Issue" ng-model="editIR.Issue">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputTitle" class="col-sm-2 control-label">Content</label>
                            <div class="col-sm-10">
                                <textarea class="form-control" rows="3" ng-model="editIR.Content"></textarea>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inputTaken" class="col-sm-2 control-label">Record Taken</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputTaken" placeholder="Record Taken" ng-model="editIR.RecordTaken">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <label class="checkbox-inline pull-left">
                        <input type="checkbox" id="inlineCheckbox1" value="option1" ng-model="editIR.IsPublic">Public
                    </label>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="UpdateInterviewRecord()">Save Changes</button>
                </div>
            </div>
        </div>
    </div>

    <!-- View Modal -->
    <div class="modal fade" id="viewtalk" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel"><i class="fa fa-eye"></i> Interview Record</h4>
                </div>
                <div class="modal-body">
                    <dl class="dl-horizontal my-interview">
                        <dt>Serial No.</dt>
                        <dd>{{currentIR.SerialNo}}&nbsp;</dd>
                        <dt>Date</dt>
                        <dd>{{currentIR.InterviewDate}}&nbsp;</dd>
                        <dt>Time</dt>
                        <dd>{{currentIR.InterviewTime}}&nbsp;</dd>
                        <dt>Venue
                            <dd>{{currentIR.Venue}}&nbsp;</dd>
                            <dt>Means</dt>
                            <dd>{{currentIR.Means}}&nbsp;</dd>
                            <dt>Attendees</dt>
                            <dd>{{currentIR.AttendeesStr}}&nbsp;</dd>
                            <dt>Issue</dt>
                            <dd>{{currentIR.Issue}}&nbsp;</dd>
                            <dt>Content</dt>
                            <dd>{{currentIR.Content}}&nbsp;</dd>
                            <dt>Record Taken</dt>
                            <dd>{{currentIR.RecordTaken}}&nbsp;</dd>
                    </dl>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- View Attendance Total -->
    <!-- <div class="modal fade bs-example-modal-lg" id="viewAttendanceTotal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myLargeModalLabel">Attendance</h4>
                </div>
                <div class="modal-body">
                    <table class="table table-striped table-bordered text-center">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th ng-repeat="period in PeriodList">{{period.Name}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2012/05/12</td>
                                <td>
                                    <span data-toggle="tooltip" data-placement="top" title="Absenteeism">A</span>
                                </td>
                                <td>
                                    <span data-toggle="tooltip" data-placement="top" title="Absenteeism">A</span>
                                </td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>
                            <tr>
                                <td>2012/05/10</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td>
                                    <span data-toggle="tooltip" data-placement="top" title="Sick Leave">S</span>
                                </td>
                                <td>
                                    <span data-toggle="tooltip" data-placement="top" title="Sick Leave">S</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div> -->

    <!-- View Attendance -->
    <div class="modal fade bs-example-modal-lg" id="viewAttendance" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myLargeModalLabel">{{viewAttendanceName}}</h4>
                </div>
                <div class="modal-body">
                    <table class="table table-striped table-bordered text-center">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th ng-repeat="period in PeriodList">{{period.Name}}</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in detailAD">
                                <td>{{item.date}}</td>
                                <td ng-repeat="p in item.period track by $index">{{p}}</td>
                            </tr>

                        </tbody>
                    </table>
                    <table class="table table-striped table-bordered text-center">{{'Un-itemized' + ': ' + (notdetailCount[viewAttendanceName] || 0)}}</table>
                </div>
            </div>
        </div>
    </div>

    <!-- View Management Total -->
    <!-- <div class="modal fade bs-example-modal-lg" id="viewManagementTotal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myLargeModalLabel">Management</h4>
                </div>
                <div class="modal-body">
                    <table class="table table-striped table-bordered text-center">
                        <thead>
                            <tr>
                                <th class="col-lg-2">Date</th>
                                <th class="col-lg-2">Management</th>
                                <th class="col-lg-8"></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>2012/05/12</td>
                                <td>2
                                    <span class="label label-success">Major Merit</span>
                                </td>
                                <td class="text-left">Good!</td>
                            </tr>
                            <tr>
                                <td>2012/05/12</td>
                                <td>1
                                    <span class="label label-danger">Major Demerit</span>
                                </td>
                                <td class="text-left">Bad!</td>
                            </tr>
                    </table>
                </div>
            </div>
        </div>
    </div> -->

    <!-- View Management -->
    <div class="modal fade bs-example-modal-lg" id="viewManagement" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                    <h4 class="modal-title" id="myLargeModalLabel">{{viewManagementName}}</h4>
                </div>
                <div class="modal-body">
                    <table class="table table-striped table-bordered text-center">
                        <thead>
                            <tr>
                                <th class="col-lg-2">Date</th>
                                <th class="col-lg-2">Amount</th>
                                <th class="col-lg-8">Reason</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="item in Ds">
                                <td class="col-lg-2">{{item.date}}</td>
                                <td class="col-lg-2">{{item.count}}</td>
                                <td class="col-lg-8 text-left">{{item.reason}}</td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="table table-striped table-bordered text-center">{{'Un-Itemized' + ': ' + (notdetailDs[currentDsType1][currentDsType2] || 0)}}</table>
                </div>
            </div>
        </div>
    </div>

    <script>
    $('[data-toggle="tooltip"]').tooltip();
    </script>

</body>

</html>
