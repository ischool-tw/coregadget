<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <script src="http://web.ischool.com.tw/devlibrary/gadget.js"></script>
  <script>
    init({
      application: "dev.sh_d",
      paramValues: {}
    });
  </script>
  <link href="css/bootstrap.css" rel="stylesheet" />
  <link href="css/bootstrap-responsive.css" rel="stylesheet" />
  <link href="css/mybootstrap.css" rel="stylesheet" />
  <link href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.0/themes/base/jquery-ui.css" rel="stylesheet"/>
  <link href="css/base.css" rel="stylesheet" />
  <link href="css/default.css" rel="stylesheet" />
  <script src="js/jquery.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.0/jquery-ui.min.js"></script>
  <script src="js/jquery.ui.touch-punch.min.js"></script>
  <script src="js/facescroll.js"></script>
  <script src="datatables/js/jquery.dataTables.min.js"></script>
  <script src="datatables/js/DT_bootstrap.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="js/jquery.validate.min.js"></script>
  <script src="js/jquery.metadata.js"></script>
  <script src="js/messages_tw.js"></script>
  <script src="js/jquery.import_list.js"></script>
  <script src="js/student.js"></script>
</head>
  <div id="gadget" class="my-page">
      <div id="mainMsg"></div>
      <div class="row-fluid">
        <div class="span12">
          <div class="tabbable">
            <h1 class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="tabName">學生總覽</span> <b class="caret"></b></a>
              <ul id="myTab" class="dropdown-menu">
                  <li><a href="#tab_list" data-toggle="tab">學生總覽</a></li>
                  <li><a href="#tab_import" data-toggle="tab">多筆匯入</a></li>
                  <li><a href="#tab_export" data-toggle="tab">匯出</a></li>
              </ul>
              <a href="#editModal" id="addstudent" class="btn btn-mini pull-right" data-toggle="modal"><i class="icon-plus"></i> 新增</a>
            </h1>

            <div id="myTabContent" class="tab-content">
                <div class="tab-pane fade active in" id="tab_list">
                  <div class="container-fluid">
                      <div class="row-fluid">
                          <div class="span3">
                            <div class="my-scrollbar2">
                              <div class="accordion my-student-list-widget" id="class-list"></div>
                            </div>
                          </div>
                          <div class="span3">
                              <form class="form-search" onsubmit="return false;">
                                  <input type="text" class="input-medium search-query" placeholder="姓名..." id="filter-keyword" rel="tooltip" data-placement="bottom" data-original-title="請至少填寫一個字">
                                  <button type="button" class="btn" id="filter-student">搜尋</button>
                              </form>
                              <div id="namelist" class="my-scrollbar">
                                <table class="table table-condensed table-striped table-bordered">
                                  <thead>
                                    <tr>
                                      <th>座號</th>
                                      <th>姓名</th>
                                      <th>性別</th>
                                    </tr>
                                  </thead>
                                  <tbody>
                                  </tbody>
                                </table>
                              </div>
                            </div>
                            <div class="span6">
                              <div id="infolist" class="my-scrollbar2">
                                <div class="my-widget" data-type="info">
                                  <div class="my-widget-header">
                                      <a href="#editModal" class="btn hide" data-toggle="modal" action-type="edit"><i class="icon-edit"></i>編輯</a>
                                      <a href="#delModal" class="btn hide" data-toggle="modal" action-type="del"><i class="icon-trash"></i>刪除</a>
                                  </div>
                                  <div class="my-widget-content">
                                      <div class="row-fluid">
                                        <div class="span6">
                                          <div id="s-FreshmanPhoto" title="入學照" class="pull-left"></diV>
                                          <div id="s-GraduatePhoto" title="畢業照" class="pull-left"></diV>
                                        </div>
                                        <div class="span6">
                                          <table class="table table-condensed table-striped">
                                              <tbody>
                                                  <tr>
                                                      <th width="40%">姓名</th>
                                                      <td width="60%" id="s-StudentName"></td>
                                                  </tr>
                                                  <tr>
                                                      <th width="40%">班級</th>
                                                      <td width="60%" id="s-ClassName"></td>
                                                  </tr>
                                                  <tr>
                                                      <th>座號</th>
                                                      <td id="s-SeatNo"></td>
                                                  </tr>
                                                  <tr>
                                                      <th>學號</th>
                                                      <td id="s-StudentNumber"></td>
                                                  </tr>
                                                  <tr>
                                                      <th>身分證</th>
                                                      <td id="s-IDNumber"></td>
                                                  </tr>
                                              </tbody>
                                          </table>
                                        </div>
                                        <div class="row-fluid">
                                          <div class="span12">
                                              <table class="table table-condensed table-striped">
                                                  <tbody>
                                                      <tr>
                                                        <th width="20%">性別</th>
                                                        <td width="30%" id="s-Gender"></td>
                                                        <th width="20%">生日</th>
                                                        <td width="30%" id="s-Birthdate"></td>
                                                      </tr>
                                                      <tr>
                                                        <th>戶籍電話</th>
                                                        <td id="s-PermanentPhone"></td>
                                                        <th>行動電話</th>
                                                        <td id="s-SmsPhone"></td>
                                                      </tr>
                                                      <tr>
                                                        <th>戶籍地址</th>
                                                        <td colspan="3" id="s-PermanentAddress"></td>
                                                      </tr>
                                                      <tr>
                                                        <th>通訊電話</th>
                                                        <td colspan="3" id="s-ContactPhone"></td>
                                                      </tr>
                                                      <tr>
                                                        <th>通訊地址</th>
                                                        <td colspan="3" id="s-MailingAddress"></td>
                                                      </tr>
                                                      <tr>
                                                        <th>帳號</th>
                                                        <td colspan="3" id="s-SaLoginName"></td>
                                                      </tr>
                                                      <tr>
                                                        <th>學生代碼</th>
                                                        <td id="s-StudentCode"></td>
                                                        <th>家長代碼</th>
                                                        <td id="s-ParentCode"></td>
                                                      </tr>
                                                  </tbody>
                                              </table>
                                          </div>
                                        </div>
                                      </div>
                                  </div>
                                </div>
                                <div class="my-widget" data-type="info">
                                  <div class="my-widget-header">
                                      <i class="icon-info-sign"></i>
                                      <h3>家長資訊</h3>
                                  </div>
                                  <div class="my-widget-content" id="parentInfo">
                                      <table class="table table-condensed">
                                          <thead>
                                            <tr>
                                              <th width="19%">姓名</th>
                                              <th width="26%">行動電話</th>
                                              <th width="55%">電子信箱</th>
                                            </tr>
                                          </thead>
                                          <tbody>
                                          </tbody>
                                      </table>
                                  </div>
                                </div>
                              </div>
                            </div>
                        </div>
                  </div>
                </div>
                <div class="tab-pane fade in" id="tab_import">
                  <div id="import">
                    <div>
                      <textarea class="my-import-text" placeholder="姓名(必填)... 班級... 座號... 學號... 身分證... 性別... 生日(2000/06/15)... 戶籍電話... 戶籍郵遞區號... 戶籍縣市... 戶籍鄉鎮市區... 戶籍地址... 行動電話... 通訊電話... 通訊郵遞區號... 通訊縣市... 通訊鄉鎮市區... 通訊地址... 帳號... 學生代碼... 家長代碼..."></textarea>
                    </div>
                    <div class="well">
                      <p class="pull-right"><span class="label label-important">使用方式</span> 請從 Excel 複製，再貼上內容</p>
                      <div class="controls">
                        <label class="control-label">
                            <input type="checkbox" data-action="checktitle">  第一行為標題列
                        </label>
                        <button class="btn btn-success" type="button" data-action="parse">驗證資料</button>
                      </div>
                    </div>
                    <div class="my-import-text" data-tab="result"></div>
                    <div class="well">
                      <button class="btn btn-success" type="button" data-action="done" autocomplete="off" data-loading-text="處理中...">匯入</button>
                    </div>
                  </div>
                </div>
                <div class="tab-pane fade in" id="tab_export">
                  <div class="well">
                    <div class="row-fluid">
                      <p class="pull-right"><span class="label label-important">使用方式</span>
                        <br />1. 開啟 Excel，先將「儲存格格式」設為「文字」
                        <br />2. 複製文字框內容，再於 Excel 貼上
                      </p>
                      <div class="pull-left">
                        <p><b>選擇匯出欄位：</b></p>
                        <label class="checkbox">
                          <input type="checkbox" value="checkall" id="checkall" checked="checked"> 選擇全部
                        </label>
                      </div>
                      <div class="controls span2">
                        <label class="checkbox">
                          <input type="checkbox" data-title="姓名" value="StudentName" checked="checked"> 姓名
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="班級" value="ClassName" checked="checked"> 班級
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="座號" value="SeatNo" checked="checked"> 座號
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="學號" value="StudentNumber" checked="checked"> 學號
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="帳號" value="SaLoginName" checked="checked"> 帳號
                        </label>
                      </div>
                      <div class="controls span2">
                        <label class="checkbox">
                          <input type="checkbox" data-title="身分證" value="IDNumber" checked="checked"> 身分證
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="性別" value="Gender" checked="checked"> 性別
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="生日" value="Birthdate" checked="checked"> 生日
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="學生代碼" value="StudentCode" checked="checked"> 學生代碼
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="家長代碼" value="ParentCode" checked="checked"> 家長代碼
                        </label>
                      </div>
                      <div class="controls span2">
                        <label class="checkbox">
                          <input type="checkbox" data-title="戶籍電話" value="PermanentPhone" checked="checked"> 戶籍電話
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="戶籍地址" value="PermanentAddress" checked="checked"> 戶籍地址
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="行動電話" value="SmsPhone" checked="checked"> 行動電話
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="通訊電話" value="ContactPhone" checked="checked"> 通訊電話
                        </label>
                        <label class="checkbox">
                          <input type="checkbox" data-title="通訊地址" value="MailingAddress" checked="checked"> 通訊地址
                        </label>
                      </div>
                    </div>
                    <button class="btn btn-success" type="button" data-action="export" autocomplete="off" data-loading-text="處理中...">匯出</button>
                  </div>
                  <textarea class="my-import-text"></textarea>
                </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal hide" id="editModal">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">×</button>
            <h3>資料修改</h3>
            <div id="errorMessage"></div>
          </div>
          <div class="modal-body">
            <form class="form-horizontal">
              <fieldset>
                  <div class="control-group">
                      <label class="control-label">
                          入學照<div class="my-trash my-del_photo" data-type="FreshmanPhoto" title="清除相片"></div>
                      </label>
                      <div class="controls" rel="tooltip" data-placement="bottom" data-original-title="請使用.jpg, .png, .gif格式">
                          <div id="preview-FreshmanPhoto"><img name="edit-FreshmanPhoto" id="edit-FreshmanPhoto" class="my-photo" src="" photo-base64=""></div>
                          <div>
                              <input type='file' name='files' data-type="FreshmanPhoto" />
                          </div>
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">
                          畢業照<div class="my-trash my-del_photo" data-type="GraduatePhoto" title="清除相片"></div>
                      </label>
                      <div class="controls" rel="tooltip" data-placement="bottom" data-original-title="請使用.jpg, .png, .gif格式">
                          <div id="preview-GraduatePhoto"><img name="edit-GraduatePhoto" id="edit-GraduatePhoto" class="my-photo" src="" photo-base64=""></div>
                          <div>
                              <input type='file' name='files' data-type="GraduatePhoto"/>
                          </div>
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">*姓名</label>
                      <div class="controls">
                          <input type="text" class="input-large {required:true}" name="edit-StudentName" id="edit-StudentName" placeholder="姓名...">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">班級</label>
                      <div class="controls">
                          <input class="input-large {ClassName:true}" name="edit-ClassName" id="edit-ClassName" placeholder="班級..." type="text">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">座號</label>
                      <div class="controls">
                          <input type="text" class="input-large {digits: true, min:0}" name="edit-SeatNo" id="edit-SeatNo" placeholder="座號...">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">學號</label>
                      <div class="controls">
                          <input type="text" class="input-large" name="edit-StudentNumber" id="edit-StudentNumber" placeholder="學號...">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">身分證</label>
                      <div class="controls">
                          <input type="text" class="input-large" name="edit-IDNumber" id="edit-IDNumber" placeholder="身分證...">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">性別</label>
                      <div class="controls">
                          <select class="span1" name="edit-Gender" id="edit-Gender">
                              <option value="1">男</option>
                              <option value="0">女</option>
                          </select>
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">生日</label>
                      <div class="controls">
                          <input type="text" class="input-large" name="edit-Birthdate" id="edit-Birthdate" placeholder="生日...">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">行動電話</label>
                      <div class="controls">
                          <input type="text" class="input-large" name="edit-SmsPhone" id="edit-SmsPhone" placeholder="行動電話...">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">戶籍電話</label>
                      <div class="controls">
                          <input type="text" class="input-large" name="edit-PermanentPhone" id="edit-PermanentPhone" placeholder="戶籍電話...">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">戶籍地址</label>
                      <div class="controls my-address">
                          <input type="text" class="input-large" name="edit-PA-ZipCode" id="edit-PA-ZipCode" placeholder="郵遞區號...">
                          <input type="text" class="input-large" name="edit-PA-County" id="edit-PA-County" placeholder="縣市...">
                          <input type="text" class="input-large" name="edit-PA-Town" id="edit-PA-Town" placeholder="鄉鎮市區...">
                          <input type="text" class="input-large" name="edit-PA-DetailAddress" id="edit-PA-DetailAddress" placeholder="地址...">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">通訊電話</label>
                      <div class="controls">
                          <input type="text" class="input-large" name="edit-ContactPhone" id="edit-ContactPhone" placeholder="通訊電話...">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">通訊地址</label>
                      <div class="controls my-address">
                          <input type="text" class="input-large" name="edit-MA-ZipCode" id="edit-MA-ZipCode" placeholder="郵遞區號...">
                          <input type="text" class="input-large" name="edit-MA-County" id="edit-MA-County" placeholder="縣市...">
                          <input type="text" class="input-large" name="edit-MA-Town" id="edit-MA-Town" placeholder="鄉鎮市區...">
                          <input type="text" class="input-large" name="edit-MA-DetailAddress" id="edit-MA-DetailAddress" placeholder="地址...">
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">帳號</label>
                      <div class="controls">
                          <input type="text" class="input-large" name="edit-SaLoginName" id="edit-SaLoginName" placeholder="帳號...">
                      </div>
                  </div>

                  <div class="control-group">
                      <label class="control-label">學生代碼</label>
                      <div class="controls">
                          <input type="text" class="input-large" name="edit-StudentCode" id="edit-StudentCode" placeholder="學生代碼...">
                          <a href="#" action-type="refresh" data-target="#edit-StudentCode" title="產生代碼"><i class="icon-refresh"></i></a>
                      </div>
                  </div>
                  <div class="control-group">
                      <label class="control-label">家長代碼</label>
                      <div class="controls">
                          <input type="text" class="input-large" name="edit-ParentCode" id="edit-ParentCode" placeholder="家長代碼...">
                          <a href="#" action-type="refresh" data-target="#edit-ParentCode" title="產生代碼"><i class="icon-refresh"></i></a>
                      </div>
                  </div>
              </fieldset>
            </form>
          </div>
          <div class="modal-footer"><a href="#" class="btn btn-success" id="save-data" data-loading-text="儲存中...">儲存變更</a>
            <a href="#" class="btn" data-dismiss="modal">離開</a>
          </div>
      </div>
      <div class="modal hide" id="delModal">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">×</button>
          <h3>刪除</h3>
          <div id="errorMessage"></div>
        </div>
        <div class="modal-body alert-danger">
          <p>永久刪除無法回復，您確定要刪除嗎？</p>
        </div>
        <div class="modal-footer"><a href="#" class="btn btn-success" id="del-data" data-loading-text="刪除中...">刪除</a>
          <a href="#" class="btn" data-dismiss="modal">離開</a> </div>
      </div>
  </diV>
</html>

